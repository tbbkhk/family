/*
 *  Gridder - v1.4.2
 *  A jQuery plugin that displays a thumbnail grid expanding preview similar to the effect seen on Google Images.
 *  http://www.oriongunning.com/
 *
 *  Made by Orion Gunning
 *  Under MIT License
 */
!function(e){window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}(),e.fn.extend(e.easing,{def:"easeInOutExpo",easeInOutExpo:function(e,n,a,i,t){return 0===n?a:n===t?a+i:(n/=t/2)<1?i/2*Math.pow(2,10*(n-1))+a:i/2*(-Math.pow(2,-10*--n)+2)+a}}),e(document).keydown(function(n){var a=n.keyCode,i=e(".current-grid"),t=i.find(".awsm-grid-show");i.length?(37===a&&(console.log("Pressed Left Arrow"),t.prev().prev().trigger("click"),n.preventDefault()),39===a&&(console.log("Pressed Right Arrow"),t.next().trigger("click"),n.preventDefault())):console.log("No active gridder.")}),e.fn.gridderExpander=function(n){var a=e.extend({},e.fn.gridderExpander.defaults,n);return this.each(function(){function n(n){a.scroll&&e("html, body").animate({scrollTop:n.find(".awsm-expanded").offset().top-a.scrollOffset},{duration:200,easing:a.animationEasing}),r.removeClass("has-awsm-expanded"),o=!1,n.find(".awsm-expanded").removeClass("awsm-expanded"),n.find(".awsm-grid-show").slideUp(a.animationSpeed,a.animationEasing,function(){n.find(".awsm-grid-show").remove(),a.onClosed(n)}),e(".current-grid").removeClass("current-grid")}function i(i){if(e(".current-grid").removeClass("current-grid"),r.addClass("current-grid"),i.hasClass("awsm-expanded"))return void n(r,a);r.find(".awsm-expanded").removeClass("awsm-expanded"),i.addClass("awsm-expanded"),r.find(".awsm-grid-show").remove(),r.hasClass("has-awsm-expanded")||r.addClass("has-awsm-expanded");var o=e('<div class="awsm-grid-show loading"></div>');s=o.insertAfter(i);var d="";0===i.data("griddercontent").indexOf("#")?(d=e(i.data("griddercontent")).html(),t(i,d)):e.ajax({type:"POST",url:i.data("griddercontent"),success:function(e){d=e,t(i,d)},error:function(e){d=e.responseText,t(i,d)}})}function t(n,i){var t='<div class="awsm-grid-padding">';if(a.showNav){var r=e(".awsm-expanded").prev(),d=e(".awsm-expanded").next().next();t+='<div class="awsm-grid-navigation">',t+='<a href="#" class="awsm-grid-close">'+a.closeText+"</a>",t+='<a href="#" class="awsm-grid-nav prev '+(r.length?"":"disabled")+'">'+a.prevText+"</a>",t+='<a href="#" class="awsm-grid-nav next '+(d.length?"":"disabled")+'">'+a.nextText+"</a>",t+="</div>"}if(t+='<div class="awsm-grid-expanded-content">',t+=i,t+="</div>",t+="</div>",o?(s.html(t),s.find(".awsm-grid-padding").fadeIn(a.animationSpeed,a.animationEasing,function(){o=!0,e.isFunction(a.onContent)&&a.onContent(s)})):s.hide().append(t).slideDown(a.animationSpeed,a.animationEasing,function(){o=!0,e.isFunction(a.onContent)&&a.onContent(s)}),a.scroll){var l="panel"===a.scrollTo?n.offset().top-a.scrollOffset:n.offset().top-a.scrollOffset;e("html, body").animate({scrollTop:l},{duration:a.animationSpeed,easing:a.animationEasing})}s.removeClass("loading")}var s,r=e(this),o=!1;a.onStart(r),r.on("click",".awsm-grid-list",function(n){n.preventDefault();var a=e(this);i(a)}),r.on("click",".awsm-grid-nav.next",function(n){n.preventDefault(),e(this).parents(".awsm-grid-show").next().trigger("click")}),r.on("click",".awsm-grid-nav.prev",function(n){n.preventDefault(),e(this).parents(".awsm-grid-show").prev().prev().trigger("click")}),r.on("click",".awsm-grid-close",function(e){e.preventDefault(),n(r)})})},e.fn.gridderExpander.defaults={scroll:!0,scrollOffset:30,scrollTo:"panel",animationSpeed:400,animationEasing:"easeInOutExpo",showNav:!0,nextText:"Next",prevText:"Previous",closeText:"Close",onStart:function(){},onContent:function(){},onClosed:function(){}}}(jQuery);